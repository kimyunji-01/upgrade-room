<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì—…ê·¸ë ˆì´ë“œ ê°ì‹¤ ì¶”ì²œ ì‹œìŠ¤í…œ</title>
  <style>
    body { font-family: 'Arial', sans-serif; padding: 20px; }
    .room {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 10px;
    }
    .primary { background-color: #e0f7fa; }
    .secondary { background-color: #f1f8e9; }
    .room h4 { margin: 0 0 5px; }
    #totalPrice {
      padding: 15px;
      border: 2px dashed #999;
      border-radius: 10px;
      background-color: #fdfdfd;
      display: none;
      font-size: 16px;
      margin-top: 20px;
      line-height: 1.6;
      .pretty-button {
    background-color: #4F9FFF;
    color: white;
    font-size: 18px;
    padding: 12px 28px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .pretty-button:hover {
    background-color: #2e7be4;
    transform: translateY(-2px);
  }

  .pretty-button:active {
    transform: scale(0.98);
  }
    }
  </style>
</head>
<body>
  <h2>ì¸ì›ìˆ˜ë¥¼ ì„ íƒí•˜ì„¸ìš”:</h2>
  <select id="guestCount">
    <option value="1">1ëª…</option>
    <option value="2">2ëª…</option>
    <option value="3">3ëª…</option>
    <option value="4">4ëª…</option>
  </select>

  <h3>ì¶”ì²œ ì—…ê·¸ë ˆì´ë“œ ê°ì‹¤:</h3>
  <div id="upgradeRooms"></div>

  <div id="totalPrice"></div>

  <script>
    const allRooms = [
      { name: "1ë“± 2ì¸ ì–‘ì‹¤", maxPeople: 2, oneWay: 30000 },
      { name: "1ë“± 3ì¸ í™”ì‹¤", maxPeople: 3, oneWay: 30000 },
      { name: "1ë“± 4ì¸ ì–‘ì‹¤", maxPeople: 4, oneWay: 30000 },
      { name: "1ë“± 4ì¸ í™”ì‹¤", maxPeople: 4, oneWay: 30000 },
      { name: "ë””ëŸ­ìŠ¤ íŠ¸ìœˆ", maxPeople: 2, oneWay: 80000 },
      { name: "1ë“± 2ì¸ ì–‘ì‹¤ 2ê°œ", maxPeople: 4, oneWay: 60000 } // 30,000 x 2
    ];

    const upgradePriority = {
      1: {
        primary: ["1ë“± 2ì¸ ì–‘ì‹¤", "ë””ëŸ­ìŠ¤ íŠ¸ìœˆ"],
        secondary: []
      },
      2: {
        primary: ["1ë“± 2ì¸ ì–‘ì‹¤", "ë””ëŸ­ìŠ¤ íŠ¸ìœˆ"],
        secondary: ["1ë“± 3ì¸ í™”ì‹¤"]
      },
      3: {
        primary: ["1ë“± 3ì¸ í™”ì‹¤"],
        secondary: ["1ë“± 4ì¸ ì–‘ì‹¤", "1ë“± 4ì¸ í™”ì‹¤"]
      },
      4: {
        primary: ["1ë“± 2ì¸ ì–‘ì‹¤ 2ê°œ", "1ë“± 4ì¸ ì–‘ì‹¤", "1ë“± 4ì¸ í™”ì‹¤"],
        secondary: []
      }
    };

    const guestCountSelect = document.getElementById("guestCount");
    const upgradeRoomsDiv = document.getElementById("upgradeRooms");
    const totalPriceEl = document.getElementById("totalPrice");

    function calculateSpecialRate(roomName, peopleCount) {
      if (roomName === "1ë“± 2ì¸ ì–‘ì‹¤" && peopleCount === 1) {
        return 50000;
      } else if (roomName === "1ë“± 3ì¸ í™”ì‹¤" && peopleCount === 2) {
        return 30000 * 2;
      } else if (
        (roomName === "1ë“± 4ì¸ ì–‘ì‹¤" || roomName === "1ë“± 4ì¸ í™”ì‹¤") &&
        peopleCount === 3
      ) {
        return 30000 * 3;
      } else if (roomName === "ë””ëŸ­ìŠ¤ íŠ¸ìœˆ" && peopleCount === 1) {
        return 120000;
      } else {
        const room = allRooms.find(r => r.name === roomName);
        return room ? room.oneWay * peopleCount : 0;
      }
    }

    function renderUpgradeRooms() {
      const count = parseInt(guestCountSelect.value);
      const priority = upgradePriority[count];

      let html = "";

      const renderRoom = (roomName, type) => {
        const roomData = allRooms.find(r => r.name === roomName);
        if (!roomData) return "";

        // ì˜ˆì™¸ ìš”ê¸ˆ í…ìŠ¤íŠ¸ë„ ë°˜ì˜
        const displayPricePerPerson = (() => {
          if (roomName === "ë””ëŸ­ìŠ¤ íŠ¸ìœˆ" && count === 1) return 120000;
          if (roomName === "1ë“± 2ì¸ ì–‘ì‹¤" && count === 1) return 50000;
          if (roomName === "1ë“± 3ì¸ í™”ì‹¤" && count === 2) return 30000;
          if (
            (roomName === "1ë“± 4ì¸ ì–‘ì‹¤" || roomName === "1ë“± 4ì¸ í™”ì‹¤") &&
            count === 3
          ) return 30000;
          return roomData.oneWay;
        })();

        return `
          <div class="room ${type === 'primary' ? 'primary' : 'secondary'}">
            <input type="radio" name="roomSelect" value="${roomData.name}" />
            <label><strong>${roomData.name}</strong></label>
            <p>ìµœëŒ€ ì¸ì›: ${roomData.maxPeople}ëª…</p>
            <p>ìš”ê¸ˆ: í¸ë„ 1ì¸ë‹¹ ${displayPricePerPerson.toLocaleString()}ì›</p>
            <p>${type === 'primary' ? 'âœ… 1ìˆœìœ„ ì¶”ì²œ ì—…ê·¸ë ˆì´ë“œ' : 'ğŸ” í›„ìˆœìœ„ ìš”ì²­ ê°€ëŠ¥'}</p>
          </div>
        `;
      };

      priority.primary.forEach(room => {
        html += renderRoom(room, 'primary');
      });

      priority.secondary.forEach(room => {
        html += renderRoom(room, 'secondary');
      });

      upgradeRoomsDiv.innerHTML = html || '<p>ì¶”ì²œ ê°ì‹¤ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
      totalPriceEl.style.display = 'none';

      document.querySelectorAll('input[name="roomSelect"]').forEach(input => {
        input.addEventListener("change", () => {
          const roomName = input.value;
          const oneWayTotal = calculateSpecialRate(roomName, count);
          const roundTripTotal = oneWayTotal * 2;

          totalPriceEl.style.display = 'block';
          totalPriceEl.innerHTML = `
            <span style="font-weight:bold; font-size: 18px;">1ì¸ë‹¹ ì´ ì˜ˆìƒ ìš”ê¸ˆ</span><br/>
            <span style="color:#2c3e50;">â–ª í¸ë„:</span> ${oneWayTotal.toLocaleString()}ì›<br/>
            <span style="color:#2c3e50;">â–ª ì™•ë³µ:</span> ${roundTripTotal.toLocaleString()}ì›
          `;
        });
      });
    }

    guestCountSelect.addEventListener("change", renderUpgradeRooms);
    renderUpgradeRooms();
  </script>
  <div style="text-align:center; margin-top: 30px;">
    <button class="pretty-button" onclick="alert('ì˜ˆì•½ í˜ì´ì§€ëŠ” ê³§ ì˜¤í”ˆë  ì˜ˆì •ì´ì—ìš”!')">
      ì˜ˆì•½í•˜ê¸° ğŸ’Œ
    </button>
  </div>
</body>
</html>